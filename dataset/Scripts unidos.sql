-- MySQL Script generated by MySQL Workbench
-- Fri Jun  2 16:30:36 2023
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema pokemon
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `pokemon` ;

-- -----------------------------------------------------
-- Schema pokemon
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `pokemon` DEFAULT CHARACTER SET utf8mb3 ;
-- -----------------------------------------------------
-- Schema pokemon
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `pokemon` ;

-- -----------------------------------------------------
-- Schema pokemon
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `pokemon` DEFAULT CHARACTER SET utf8mb3 ;
USE `pokemon` ;

-- -----------------------------------------------------
-- Table `pokemon`.`pokemon`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `pokemon`.`pokemon` ;

CREATE TABLE IF NOT EXISTS `pokemon`.`pokemon` (
  `pokemon_id` INT NOT NULL,
  `nome` VARCHAR(255) NOT NULL,
  `peso` DECIMAL(12,2) NOT NULL,
  `valor_ataque` DECIMAL(12,2) NOT NULL,
  `valor_defesa` DECIMAL(12,2) NOT NULL,
  `velocidade_media` DECIMAL(12,2) NOT NULL,
  `especie_especie_id` INT NOT NULL,
  `categoria_categoria_id` INT NOT NULL,
  PRIMARY KEY (`pokemon_id`),
  INDEX `fk_pokemon_especie1_idx` (`especie_especie_id` ASC) VISIBLE,
  INDEX `fk_pokemon_categoria1_idx` (`categoria_categoria_id` ASC) VISIBLE,
  CONSTRAINT `fk_pokemon_especie1`
    FOREIGN KEY (`especie_especie_id`)
    REFERENCES `pokemon`.`especie` (`especie_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_pokemon_categoria1`
    FOREIGN KEY (`categoria_categoria_id`)
    REFERENCES `pokemon`.`categoria` (`categoria_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `pokemon`.`tipo`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `pokemon`.`tipo` ;

CREATE TABLE IF NOT EXISTS `pokemon`.`tipo` (
  `tipo_id` INT NOT NULL AUTO_INCREMENT,
  `nome` VARCHAR(45) NULL,
  `descricao` VARCHAR(255) NULL,
  PRIMARY KEY (`tipo_id`))
ENGINE = InnoDB;

USE `pokemon` ;

-- -----------------------------------------------------
-- Table `pokemon`.`categoria`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `pokemon`.`categoria` ;

CREATE TABLE IF NOT EXISTS `pokemon`.`categoria` (
  `categoria_id` INT NOT NULL AUTO_INCREMENT,
  `nome` VARCHAR(255) NOT NULL,
  `descricao` VARCHAR(255) NOT NULL,
  PRIMARY KEY (`categoria_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `pokemon`.`habilidade`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `pokemon`.`habilidade` ;

CREATE TABLE IF NOT EXISTS `pokemon`.`habilidade` (
  `habilidade_id` INT NOT NULL AUTO_INCREMENT,
  `nome` VARCHAR(255) NOT NULL,
  PRIMARY KEY (`habilidade_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `pokemon`.`especie`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `pokemon`.`especie` ;

CREATE TABLE IF NOT EXISTS `pokemon`.`especie` (
  `especie_id` INT NOT NULL AUTO_INCREMENT,
  `nome` VARCHAR(255) NOT NULL,
  `descricao` VARCHAR(255) NOT NULL,
  PRIMARY KEY (`especie_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `pokemon`.`pokemon`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `pokemon`.`pokemon` ;

CREATE TABLE IF NOT EXISTS `pokemon`.`pokemon` (
  `pokemon_id` INT NOT NULL,
  `nome` VARCHAR(255) NOT NULL,
  `peso` DECIMAL(12,2) NOT NULL,
  `valor_ataque` DECIMAL(12,2) NOT NULL,
  `valor_defesa` DECIMAL(12,2) NOT NULL,
  `velocidade_media` DECIMAL(12,2) NOT NULL,
  `especie_especie_id` INT NOT NULL,
  `categoria_categoria_id` INT NOT NULL,
  PRIMARY KEY (`pokemon_id`),
  INDEX `fk_pokemon_especie1_idx` (`especie_especie_id` ASC) VISIBLE,
  INDEX `fk_pokemon_categoria1_idx` (`categoria_categoria_id` ASC) VISIBLE,
  CONSTRAINT `fk_pokemon_especie1`
    FOREIGN KEY (`especie_especie_id`)
    REFERENCES `pokemon`.`especie` (`especie_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_pokemon_categoria1`
    FOREIGN KEY (`categoria_categoria_id`)
    REFERENCES `pokemon`.`categoria` (`categoria_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `pokemon`.`pokemon_habilidade`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `pokemon`.`pokemon_habilidade` ;

CREATE TABLE IF NOT EXISTS `pokemon`.`pokemon_habilidade` (
  `oculta` TINYINT NULL DEFAULT NULL,
  `habilidade_habilidade_id` INT NOT NULL,
  `pokemon_pokemon_id` INT NOT NULL,
  PRIMARY KEY (`habilidade_habilidade_id`, `pokemon_pokemon_id`),
  INDEX `fk_pokemon_has_habilidade_habilidade1_idx` (`habilidade_habilidade_id` ASC) VISIBLE,
  INDEX `fk_pokemon_has_habilidade_pokemon1_idx` (`pokemon_pokemon_id` ASC) VISIBLE,
  CONSTRAINT `fk_pokemon_has_habilidade_habilidade1`
    FOREIGN KEY (`habilidade_habilidade_id`)
    REFERENCES `pokemon`.`habilidade` (`habilidade_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_pokemon_has_habilidade_pokemon1`
    FOREIGN KEY (`pokemon_pokemon_id`)
    REFERENCES `pokemon`.`pokemon` (`pokemon_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `pokemon`.`pokemon_tipo`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `pokemon`.`pokemon_tipo` ;

CREATE TABLE IF NOT EXISTS `pokemon`.`pokemon_tipo` (
  `pokemon_pokemon_id` INT NOT NULL,
  `tipo_tipo_id` INT NOT NULL,
  `nivel` INT NULL,
  PRIMARY KEY (`pokemon_pokemon_id`, `tipo_tipo_id`),
  INDEX `fk_pokemon_has_tipo_tipo1_idx` (`tipo_tipo_id` ASC) VISIBLE,
  INDEX `fk_pokemon_has_tipo_pokemon1_idx` (`pokemon_pokemon_id` ASC) VISIBLE,
  CONSTRAINT `fk_pokemon_has_tipo_pokemon1`
    FOREIGN KEY (`pokemon_pokemon_id`)
    REFERENCES `pokemon`.`pokemon` (`pokemon_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_pokemon_has_tipo_tipo1`
    FOREIGN KEY (`tipo_tipo_id`)
    REFERENCES `pokemon`.`tipo` (`tipo_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;

USE `pokemon` ;

-- -----------------------------------------------------
-- Placeholder table for view `pokemon`.`tipo_especie`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `pokemon`.`tipo_especie` (`tipo` INT, `pokemon` INT);

-- -----------------------------------------------------
-- Placeholder table for view `pokemon`.`habilidade_especie`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `pokemon`.`habilidade_especie` (`pokemon` INT, `habilidade` INT);

-- -----------------------------------------------------
-- View `pokemon`.`tipo_especie`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `pokemon`.`tipo_especie`;
DROP VIEW IF EXISTS `pokemon`.`tipo_especie` ;
USE `pokemon`;
CREATE  OR REPLACE VIEW `tipo_especie` AS
SELECT t.nome AS tipo, p.nome AS pokemon
FROM pokemon.pokemon_tipo pt
JOIN pokemon.tipo t ON pt.tipo_tipo_id = t.tipo_id
JOIN pokemon.pokemon p ON pt.pokemon_pokemon_id = p.pokemon_id
ORDER BY t.nome;

-- -----------------------------------------------------
-- View `pokemon`.`habilidade_especie`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `pokemon`.`habilidade_especie`;
DROP VIEW IF EXISTS `pokemon`.`habilidade_especie` ;
USE `pokemon`;
CREATE  OR REPLACE VIEW `habilidade_especie` AS
SELECT p.nome AS pokemon, h.nome AS habilidade
FROM pokemon.pokemon p
JOIN pokemon.pokemon_habilidade ph ON ph.pokemon_pokemon_id = p.pokemon_id
JOIN pokemon.habilidade h ON h.habilidade_id = ph.habilidade_habilidade_id
ORDER BY h.nome;

SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
INSERT INTO habilidade (nome) 
VALUES ("Overgrow"), ("Thick Fat"), ("Blaze"), ("Tough Claws"), ("Drought"), ("Torrent"), ("Mega Launcher"), ("Shield Dust"), ("Shed Skin"),
("Compound Eyes"), ("Swarm"), ("Adaptability"), ("Keen Eye"), ("No Guard"), ("Run Away"), ("Gluttony"), ("Intimidate"), ("Static"), ("Surge Surfer"),
("Sand Veil"), ("Snow Cloak"), ("Poison Point"), ("Cute Charm"), ("Flash Fire"), ("Tangled Feet"), ("Guts"), ("Hustle"), ("Rivalry"), ("Magic Guard"),
("Competitive"), ("Dry Skin"), ("Tinted Lens"), ("Arena Trap"), ("Tangling Hair"), ("Technician"), ("Solar Power"), ("Rain Dish"), ("Sniper"),
("Big Pecks"), ("Unnerve"), ("Lightning Rod"), ("Sand Rush"), ("Slush Rush"), ("Sheer Force"), ("Friend Guard"), ("Unaware"), ("Snow Warning"),
("Frisk"), ("Infiltrator"), ("Stench"), ("Damp"), ("Wonder Skin"), ("Sand Force"), ("Rattled"), ("Inner Focus"), ("Chlorophyll"), ("Effect Spore"),
("Pickup"), ("Arena Trap"), ("Competitive");

INSERT INTO categoria (nome, descricao) VALUES ("normal", "Pokémon com características comuns, sem afinidade elemental específica. São versáteis e adaptáveis, apresentando uma ampla variedade de movimentos.");
INSERT INTO categoria (nome, descricao) VALUES ("lendário", "Pokémon raros e poderosos, muitas vezes associados a lendas e mitos. Possuem estatísticas excepcionais e habilidades únicas. São considerados únicos e geralmente desempenham um papel especial na história do mundo Pokémon.");

INSERT INTO especie (nome, descricao) VALUES
('Seed Pokémon', 'Pokémon que possuem características de semente, geralmente sendo a forma inicial de evolução de um Pokémon.'),
('Lizard Pokémon', 'Pokémon que possuem características de lagarto, como escamas e habilidades relacionadas ao fogo.'),
('Flame Pokémon', 'Pokémon que possuem habilidades baseadas em chamas e fogo, podendo ter uma aparência de chama.'),
('Tiny Turtle Pokémon', 'Pequenos Pokémon que possuem características de tartaruga, como casco e habilidades relacionadas à água.'),
('Turtle Pokémon', 'Pokémon que evoluem a partir de Tiny Turtle Pokémon, possuindo um casco maior e mais habilidades relacionadas à água.'),
('Shellfish Pokémon', 'Pokémon que possuem características de crustáceos ou moluscos, como conchas e habilidades aquáticas.'),
('Worm Pokémon', 'Pokémon que possuem características de verme ou minhoca, com corpos alongados e habilidades diversas.'),
('Cocoon Pokémon', 'Pokémon que estão em estágio de casulo, se preparando para evoluir para uma forma mais poderosa.'),
('Butterfly Pokémon', 'Pokémon que evoluem a partir de Cocoon Pokémon, possuindo belas asas e habilidades relacionadas ao ar.'),
('Hairy Bug Pokémon', 'Pokémon insetos peludos com habilidades diversas, podendo se camuflar ou causar danos com seus pelos.'),
('Poison Bee Pokémon', 'Pokémon que possuem características de abelha venenosa, com habilidades de envenenamento e ataques com ferrões.'),
('Tiny Bird Pokémon', 'Pequenos Pokémon com características de pássaros, geralmente possuindo habilidades relacionadas ao voo.'),
('Bird Pokémon', 'Pokémon que evoluem a partir de Tiny Bird Pokémon, possuindo asas maiores e habilidades mais poderosas de voo e ataque.'),
('Mouse Pokémon', 'Pokémon com características de camundongos ou ratos, geralmente sendo ágeis e possuindo habilidades elétricas.'),
('Beak Pokémon', 'Pokémon que possuem um bico proeminente, podendo ser aves ou outros animais com habilidades relacionadas ao bico.'),
('Snake Pokémon', 'Pokémon que possuem características de serpente, com corpos alongados e habilidades de envenenamento.'),
('Cobra Pokémon', 'Pokémon que evoluem a partir de Snake Pokémon, possuindo corpos maiores e habilidades venenosas mais poderosas.'),
('Poison Pin Pokémon', 'Pokémon que possuem características de espinho ou agulha, geralmente com habilidades de envenenamento e ataques perfurantes.'),
('Drill Pokémon', 'Pokémon que possuem habilidades relacionadas a brocas e perfuração, podendo causar danos com seus ataques.'),
('Fairy Pokémon', 'Pokémon que possuem características mágicas e encantadoras, com habilidades de cura e ataques mágicos.'),
('Fox Pokémon', 'Pokémon com características inspiradas em raposas, sendo ágeis, astutos e possuindo habilidades únicas.');

INSERT INTO tipo (nome, descricao) VALUES
('Grass', 'Pokémon de tipo Grama possuem habilidades relacionadas à natureza, como ataques de planta e controle sobre o ambiente.'),
('Fire', 'Pokémon de tipo Fogo são conhecidos por suas chamas intensas e ataques poderosos, trazendo calor e destruição aos oponentes.'),
('Water', 'Pokémon de tipo Água são adaptáveis aos ambientes aquáticos, utilizando ataques de água e exibindo agilidade e resistência.'),
('Bug', 'Pokémon do tipo Inseto possuem habilidades de infestação, camuflagem e ataques rápidos, sendo comuns na natureza.'),
('Normal', 'Pokémon de tipo Normal são versáteis e se adaptam facilmente, possuindo uma variedade de habilidades e sendo comuns em diversas regiões.'),
('Dark', 'Pokémon de tipo Sombrio usam truques e ataques furtivos, representando a escuridão e a astúcia.'),
('Poison', 'Pokémon do tipo Veneno usam toxinas e ataques corrosivos para enfraquecer seus oponentes, representando a poluição e a nocividade.'),
('Electric', 'Pokémon do tipo Elétrico possuem ataques baseados em eletricidade, com velocidade e poder ofensivo surpreendentes.'),
('Ground', 'Pokémon do tipo Terra têm controle sobre a terra e podem utilizar ataques de terremoto e escavação.'),
('Ice', 'Pokémon do tipo Gelo são associados ao frio e à neve, possuindo ataques congelantes e resistência em climas gelados.'),
('Fairy', 'Pokémon do tipo Fada são conhecidos por sua graça e poderes mágicos, com ataques encantadores e habilidades de cura.'),
('Flying', 'Pokémon do tipo Voador possuem asas e podem voar, oferecendo mobilidade e ataques aéreos.'),
('Dragon', 'Pokémon do tipo Dragão são poderosos e raros, com ataques destrutivos e habilidades lendárias.'),
('Psychic', 'Pokémon do tipo Psíquico têm habilidades mentais, como leitura de mentes e controle de objetos, representando poderes psíquicos.'),
('Steel', 'Pokémon do tipo Aço são resistentes e possuem defesas sólidas, com ataques de metal e imunidade a certos tipos de danos.');